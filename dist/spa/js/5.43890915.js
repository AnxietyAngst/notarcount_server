(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"8b24":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh lpR fFf"}},[a("q-header",{staticClass:"q-pa-md bg-transparent text-white flex flex-center",attrs:{elevated:"",flat:""}},[a("q-tabs",{staticClass:"text-purple",attrs:{"narrow-indicator":"",dense:"",align:"center"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{ripple:{color:"orange"},name:"createEntry",icon:"create",label:"Создание"}}),a("q-tab",{attrs:{ripple:{color:"orange"},name:"checkEntries",icon:"check",label:"Просмотр"}}),a("q-tab",{attrs:{ripple:{color:"orange"},name:"analytics",icon:"bar_chart",label:"Аналитика"}})],1)],1),a("q-page-container",[a("q-tab-panels",{staticClass:"flex flex-center",attrs:{animated:"",swipeable:"","transition-prev":"fade","transition-next":"fade"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{staticClass:"q-pa-none bg-grey-1",attrs:{name:"createEntry"}},[a("createEntryComponent")],1),a("q-tab-panel",{staticClass:"q-pa-none bg-grey-1",attrs:{name:"checkEntries"}},[a("statsComponent")],1),a("q-tab-panel",{staticClass:"q-pa-none bg-grey-1",attrs:{name:"analytics"}},[a("analyticsComponent")],1)],1)],1)],1)},o=[],r=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),i=a.n(r),s=a("2f62"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex flex-center"},[a("q-table",{staticClass:"createEntryTable",attrs:{grid:"",data:t.listTableData,columns:t.columns,"row-key":"id",loading:t.loading,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0]},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",disable:t.loading},on:{click:t.addRow}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"remove",flat:"",color:"primary",disable:t.loading},on:{click:t.removeRow}}),a("q-space"),a("q-btn",{attrs:{color:"primary",flat:"",icon:"send",disable:t.loading},on:{click:t.sendData}})]},proxy:!0},{key:"item",fn:function(e){return[a("div",{class:t.$q.screen.width>830?"fit col q-pa-md":"fit"},[a("q-card",{staticClass:"bg-grey-1 flex flex-center"},[a("q-list",{attrs:{dense:""}},t._l(e.cols,(function(n){return a("q-item",{key:n.name},[a("q-item-section",{staticClass:"flex flex-center"},["courierCost"===n.name||"manager"===n.name||"seller"===n.name?a("div",[a("q-select",{staticClass:"entrySelect flex",attrs:{label:n.label,color:"dark",value:e.row[""+n.name],"use-input":"","use-chips":"","hide-dropdown-icon":"","new-value-mode":"add"},on:{input:function(a){return t.mutateComputedData(a,e.rowIndex,n.name)}},scopedSlots:t._u([{key:"selected",fn:function(){return[a("q-chip",{staticClass:"addEntryChip q-pa-md bg-purple-1",attrs:{dense:"",label:e.row[""+n.name]}})]},proxy:!0}],null,!0)})],1):a("div",[a("q-select",{staticClass:"entrySelect flex",attrs:{label:n.label,color:"dark",value:e.row[""+n.name],"use-input":"","use-chips":"","hide-dropdown-icon":"","new-value-mode":"add"},on:{input:function(a){return t.mutateComputedData(a,e.rowIndex,n.name)}},scopedSlots:t._u([{key:"selected",fn:function(){return[a("q-chip",{staticClass:"addEntryChip q-pa-md bg-red-2",attrs:{dense:"",label:e.row[""+n.name]}})]},proxy:!0}],null,!0)})],1)])],1)})),1)],1)],1)]}}])})],1)},c=[],u=[{name:"partnerName",align:"left",label:"Партнёр",field:"partnerName"},{name:"documentsCount",align:"center",label:"Количество",field:"documentsCount"},{name:"notariusCost",align:"center",label:"Нотариус",field:"notariusCost"},{name:"translatorCost",align:"center",label:"Переводчик",field:"translatorCost"},{name:"totalAmount",align:"center",label:"Цена",field:"totalAmount"},{name:"courierCost",align:"center",label:"Курьер",field:"courierCost"},{name:"manager",align:"center",label:"Менеджер",field:"manager"},{name:"seller",align:"center",label:"Продавец",field:"seller"}],d=u;a("f7be");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"createEntryComponent",computed:m({},Object(s["c"])({listTableData:"entriesStore/listTableData"})),data:function(){return{loading:!1,columns:d,pagination:{rowsPerPage:this.$q.screen.width<=830?1:2}}},methods:m(m({},Object(s["b"])({addRow:"entriesStore/addRow",removeRow:"entriesStore/removeRow",sendData:"entriesStore/sendData",changeColValue:"entriesStore/changeColValue"})),{},{mutateComputedData:function(t,e,a){this.changeColValue({newValue:t,rowIndex:e,colName:a})}})},b=f,h=a("2877"),g=a("eebe"),y=a.n(g),C=a("9989"),w=a("eaac"),q=a("9c40"),x=a("2c91"),O=a("f09f"),v=a("1c1c"),D=a("66e5"),j=a("4074"),k=a("ddd8"),Q=a("b047"),_=Object(h["a"])(b,l,c,!1,null,null,null),P=_.exports;y()(_,"components",{QPage:C["a"],QTable:w["a"],QBtn:q["a"],QSpace:x["a"],QCard:O["a"],QList:v["a"],QItem:D["a"],QItemSection:j["a"],QSelect:k["a"],QChip:Q["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex flex-center"},[a("q-virtual-scroll",{staticClass:"statsVirtualScroll",attrs:{items:t.listWeeks},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,o=e.index;return[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple",value:{color:n.finished?"green":"red"},expression:"{color: item.finished ? 'green' : 'red'}"}],key:o,staticClass:"q-my-sm"},[a("q-item-section",{attrs:{avatar:""}},[a("q-btn",{staticClass:"q-pa-xs flex flex-center",attrs:{color:n.finished?"green":"red",icon:n.finished?"done":"clear",flat:""}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(t.fmt(n.periodFrom)))]),a("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v(t._s(t.fmt(n.periodTill)))])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-fab",{attrs:{color:"primary",icon:"keyboard_arrow_left",direction:"left",flat:""}},[a("q-fab-action",{attrs:{color:"primary",icon:"search",flat:""},on:{click:function(e){return t.showWeeks(n)}}}),a("q-badge",{attrs:{floating:"",color:"green",transparent:"",label:n.weekDocuments}}),a("q-fab-action",{attrs:{color:"primary",icon:"show_chart",flat:""},on:{click:function(e){return t.showAnalytics(n)}}})],1)],1)],1)]}}])})],1)},E=[],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{ref:"dialog",on:{hide:t.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin q-pt-md"},[a("q-card-section",{staticClass:"flex flex-center"},[a("div",{staticClass:"flex flex-center"},[a("q-chip",{staticClass:"col-3 col-sm-6",attrs:{outline:"",square:"",color:"red","text-color":"white",icon:"assignment",label:t.item.weekDocuments}}),a("q-chip",{staticClass:"col-3 col-sm-6",attrs:{outline:"",square:"",color:"red","text-color":"white",icon:"add",label:t.item.weekIncome}}),a("q-chip",{staticClass:"col-3 col-sm-6",attrs:{outline:"",square:"",color:"red","text-color":"white",icon:"remove",label:t.item.weekExpense.total}},[a("q-tooltip",{attrs:{"content-class":"bg-white",anchor:"bottom middle",self:"top middle",offset:[10,10]}},[a("q-chip",{attrs:{outline:"",square:"",color:"red","text-color":"white",icon:"directions_bike",label:t.item.weekExpense.courier}}),a("q-chip",{attrs:{outline:"",square:"",color:"red","text-color":"white",icon:"storefront",label:t.item.weekExpense.seller}}),a("q-chip",{attrs:{outline:"",square:"",color:"red","text-color":"white",icon:"emoji_people",label:t.item.weekExpense.manager}})],1)],1),a("q-chip",{staticClass:"col-3 col-sm-6",attrs:{outline:"",square:"",color:"green","text-color":"white",icon:"timeline",label:t.item.weekRevenue}})],1),a("q-list",{staticClass:"q-mt-md rounded-borders full-width",attrs:{dense:"",bordered:"",padding:""}},t._l(t.item.weekEntryData,(function(e){return a("q-item",{key:e.id,staticClass:"items-center justify-between"},[t.$q.screen.width>415?a("q-item-section",{staticClass:"flex flex-center",attrs:{avatar:""}},[a("q-fab",{attrs:{icon:"keyboard_arrow_right",color:"primary",flat:"",direction:"right",padding:"md"}},[a("q-badge",{staticClass:"flex flex-center q-ml-sm",staticStyle:{width:"48px"},attrs:{outline:"",color:"red"}},[t._v(t._s(e.entryData.totalData[0].totalIncome))]),a("q-badge",{staticClass:"flex flex-center q-ml-sm",staticStyle:{width:"48px"},attrs:{outline:"",color:"red"}},[t._v(t._s(e.entryData.totalData[0].totalExpense))]),a("q-badge",{staticClass:"flex flex-center q-ml-sm",staticStyle:{width:"48px"},attrs:{outline:"",color:"green"}},[t._v(t._s(e.entryData.totalData[0].totalCount))])],1)],1):a("q-item-section",[a("div",{staticClass:"row flex flex-center fit"},[a("q-badge",{staticClass:"flex flex-center",staticStyle:{width:"48px"},attrs:{outline:"",color:"red"}},[t._v(t._s(e.entryData.totalData[0].totalIncome))]),a("q-badge",{staticClass:"flex flex-center",staticStyle:{width:"48px","margin-left":"5px"},attrs:{outline:"",color:"red"}},[t._v(t._s(e.entryData.totalData[0].totalExpense))]),a("q-badge",{staticClass:"flex flex-center",staticStyle:{width:"48px","margin-left":"5px"},attrs:{outline:"",color:"green"}},[t._v(t._s(e.entryData.totalData[0].totalCount))])],1)]),a("q-item-section",{attrs:{avatar:""}},[a("q-btn",{attrs:{color:"primary",flat:""},on:{click:function(a){return t.showDay(e)}}},[t._v(t._s(t.fmt(e.createdAt,e.entryData.totalData[0].documentsCount)))])],1)],1)})),1),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{attrs:{flat:"",color:"primary",label:"OK"},on:{click:t.onOKClick}})],1)],1)],1)],1)},A=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{ref:"dialog",on:{hide:t.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin"},[a("q-card-section",{staticClass:"flex flex-center q-pa-md"},[a("q-table",{attrs:{grid:"",title:"",data:t.actualDay.entryData.firstData,columns:t.columns,"visible-columns":t.visubleColumns,"row-key":"id","virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0]},on:{"update:pagination":function(e){t.pagination=e}}})],1),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{attrs:{flat:"",color:"primary",label:"OK"},on:{click:t.onOKClick}})],1)],1)],1)},T=[],V={name:"tDialogComponent",data:function(){return{columns:d,visubleColumns:["partnerName","documentsCount","notariusCost","translatorCost","totalAmount"],pagination:{rowsPerPage:0}}},props:{actualDay:Object},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.$emit("ok"),this.hide()}}},R=V,W=a("24e8"),H=a("a370"),K=a("4b7e"),N=Object(h["a"])(R,I,T,!1,null,null,null),B=N.exports;y()(N,"components",{QDialog:W["a"],QCard:O["a"],QCardSection:H["a"],QTable:w["a"],QCardActions:K["a"],QBtn:q["a"]});var F=a("fc74"),L=a.n(F),M=a("f3e3"),z=a.n(M),J=(a("28a5"),function(t,e,a){if("../../...."===t){var n="..",o="..",r="..",i="....";return{day:n,month:o,year:i,numMonth:r,fullNum:"".concat(n).concat(a).concat(r).concat(a).concat(i),fullCap:"".concat(n," ").concat(o," ").concat(i)}}var s=t.split("/")[0]<10?"0".concat(t.split("/")[0]):t.split("/")[0],l=new Intl.DateTimeFormat(e,{year:"numeric",month:"short",day:"2-digit"}).formatToParts(new Date(t)),c=z()(l,5),u=c[0].value,d=c[2].value,p=c[4].value;return{day:u,month:d,year:p,numMonth:s,fullNum:"".concat(u).concat(a).concat(s).concat(a).concat(p),fullCap:"".concat(u," ").concat(d," ").concat(p)}}),G=function t(e,a){L()(this,t);var n=J(e,"ru",a||".");this.fullDate=n.fullNum,this.fullCap=n.fullCap,this.day=n.day,this.monthCap=n.month,this.month=n.numMonth,this.year=n.year,this.dayMonthCap="".concat(this.day," ").concat(this.monthCap)},U=G,X={name:"wDialogComponent",components:{tDialogComponent:B},props:{item:Object},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.$emit("ok"),this.hide()},showDay:function(t){this.$q.dialog({component:B,actualDay:t})},fmt:function(t,e){return"".concat(new U(t,".").day," | ").concat(e<10?"0".concat(e):e)}}},Y=X,Z=a("05c0"),tt=a("c294"),et=a("58a8"),at=Object(h["a"])(Y,$,A,!1,null,null,null),nt=at.exports;y()(at,"components",{QDialog:W["a"],QCard:O["a"],QCardSection:H["a"],QChip:Q["a"],QTooltip:Z["a"],QList:v["a"],QItem:D["a"],QItemSection:j["a"],QFab:tt["a"],QBadge:et["a"],QBtn:q["a"],QCardActions:K["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{ref:"dialog",on:{hide:t.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin q-pt-md"},[a("q-card-section",{staticClass:"flex flex-center justify-around"},[a("VueApexCharts",{attrs:{type:"line",options:t.options,series:t.series}})],1)],1)],1)},rt=[],it=a("1321"),st=a.n(it),lt={name:"aDialogComponent",components:{VueApexCharts:st.a},data:function(){return{options:{chart:{id:"dialogChart",toolbar:{show:!1},zoom:{enabled:!1},stroke:{curve:"straight"}},xaxis:{categories:[]}},series:[{name:"Документов",data:[]}]}},props:{item:Object},methods:{show:function(){this.$refs.dialog.show(),this.setData()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.$emit("ok"),this.hide()},setData:function(){var t=this;this.item.weekEntryData.forEach((function(e){t.options.xaxis.categories.push(new U(e.createdAt).dayMonthCap),t.series[0].data.push(e.entryData.totalData[0].documentsCount)}))}}},ct=lt,ut=Object(h["a"])(ct,ot,rt,!1,null,null,null),dt=ut.exports;function pt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function mt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}y()(ut,"components",{QDialog:W["a"],QCard:O["a"],QCardSection:H["a"]});var ft={name:"statsComponent",components:{wDialogComponentVue:nt,aDialogComponentVue:dt},data:function(){return{splitterModel:50,carousel:!1,slide:1}},computed:mt({},Object(s["c"])({listWeeks:"entriesStore/listWeeks"})),methods:{showWeeks:function(t){this.$q.dialog({component:nt,parent:this,item:t})},showAnalytics:function(t){this.$q.dialog({component:dt,parent:this,item:t})},fmt:function(t){return new U(t).fullDate}}},bt=ft,ht=a("a12b"),gt=a("0170"),yt=a("72db"),Ct=a("714f"),wt=Object(h["a"])(bt,S,E,!1,null,null,null),qt=wt.exports;y()(wt,"components",{QPage:C["a"],QVirtualScroll:ht["a"],QItem:D["a"],QItemSection:j["a"],QBtn:q["a"],QItemLabel:gt["a"],QFab:tt["a"],QFabAction:yt["a"],QBadge:et["a"]}),y()(wt,"directives",{Ripple:Ct["a"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex flex-center"},[a("analyticsChart",{attrs:{item:t.listAnalytics}})],1)},Ot=[],vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-center"},[a("VueApexCharts",{attrs:{options:t.options,series:t.series}})],1)},Dt=[],jt={name:"documentsChart",components:{VueApexCharts:st.a},data:function(){return{options:{chart:{id:"analyticsChart",type:"line",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1},stroke:{curve:"smooth"},dataLabels:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top"},xaxis:{categories:[],labels:{rotate:0}}},series:[{name:"Документы",data:[]},{name:"Доходы",data:[]},{name:"Затраты",data:[]},{name:"Выручка",data:[]}]}},props:{item:Object},created:function(){this.options.xaxis.categories=this.item.WK.map((function(t){return new U(t).fullDate})),this.series[0].data=this.item.WD,this.series[1].data=this.item.WI,this.series[2].data=this.item.WE,this.series[3].data=this.item.WR}},kt=jt,Qt=Object(h["a"])(kt,vt,Dt,!1,null,null,null),_t=Qt.exports;function Pt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function St(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Pt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Et={name:"analyticsComponent",components:{analyticsChart:_t},computed:St({},Object(s["c"])({listAnalytics:"entriesStore/listAnalytics"}))},$t=Et,At=Object(h["a"])($t,xt,Ot,!1,null,null,null),It=At.exports;function Tt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Vt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}y()(At,"components",{QPage:C["a"]});var Rt={name:"PageIndex",components:{createEntryComponent:P,statsComponent:qt,analyticsComponent:It},data:function(){return{tab:"createEntry"}},methods:Vt({},Object(s["b"])({fetchData:"entriesStore/fetchData"})),created:function(){this.fetchData()}},Wt=Rt,Ht=a("4d5a"),Kt=a("e359"),Nt=a("429b"),Bt=a("7460"),Ft=a("09e3"),Lt=a("adad"),Mt=a("823b"),zt=Object(h["a"])(Wt,n,o,!1,null,null,null);e["default"]=zt.exports;y()(zt,"components",{QLayout:Ht["a"],QHeader:Kt["a"],QTabs:Nt["a"],QTab:Bt["a"],QPageContainer:Ft["a"],QTabPanels:Lt["a"],QTabPanel:Mt["a"]})}}]);